<h2>Course List</h2>

<div class='form-group row'>
  <label class='col-sm-2 col-form-label'>filter by</label>
  <div class='col-sm-10'>
    <!-- quero fazer 2way data bind para o filtro, linkar com o componente/elemento, do outro lado do componente preciso ter uma variavel chamada filter . Pegar os 2 eventos, o input ao digitar e a seleção na tabela
    OBS para o ngModel ser aceito foi necessario importar o FormsModule no app.module.ts -->
    <input [(ngModel)]='filter' class='form-control' />
  </div>
</div>

<table class='table table-striped'>
  <thead>
    <tr>
      <th>Image</th>
      <th>Name</th>
      <th>Price</th>
      <th>Code</th>
      <th>Release Date</th>
      <th>Rating</th>
      <th>Options</th>
    </tr>
  </thead>
  <tbody>
    <!-- anteriormente estava .. of courses, agora esta injetando os valores filtrados diretamente -->
    <tr *ngFor='let course of filteredCourses'> 
      <td><img [src]="course.imageUrl" height='50px' /></td>
      <td>{{ course.name }}</td>
      <td>$ {{ course.price }}</td>
      <td>{{ course.code | lowercase | replace: '-': ' ' }}</td>
      <td>{{ course.releaseDate | date: 'dd/MM/yyyy'}}</td>
      <td><app-ratings [rating]='course.rating'></app-ratings></td>
      <td>
        <a [routerLink]="['/courses/info', course.id]" class='btn btn-primary'>Edit</a>
      </td>
    </tr>
  </tbody>
</table>